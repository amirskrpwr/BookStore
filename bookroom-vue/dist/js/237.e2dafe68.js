"use strict";(self["webpackChunkbookroom_vue"]=self["webpackChunkbookroom_vue"]||[]).push([[237],{2237:function(o,s,t){t.r(s),t.d(s,{default:function(){return b}});var r=t(3396),e=t(9242);const n=o=>((0,r.dD)("data-v-063fdc41"),o=o(),(0,r.Cn)(),o),a={class:"login-form-container"},i=n((()=>(0,r._)("h3",null,"بازیابی رمز عبور",-1))),d=n((()=>(0,r._)("span",null,"رمز عبود جدید",-1))),u=n((()=>(0,r._)("input",{type:"submit",value:"ثبت رمز عبور",class:"btn"},null,-1)));function p(o,s,t,n,p,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",a,[(0,r._)("form",{action:"",onSubmit:s[2]||(s[2]=(0,e.iM)(((...o)=>l.resetPassword&&l.resetPassword(...o)),["prevent"]))},[i,d,(0,r.wy)((0,r._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":s[0]||(s[0]=o=>p.password=o),class:"form-control box",placeholder:"رمز عبور جدید خود را وارد کنید"},null,512),[[e.nr,p.password]]),(0,r.wy)((0,r._)("input",{type:"password",name:"password2",id:"password2","onUpdate:modelValue":s[1]||(s[1]=o=>p.password2=o),class:"form-control box",placeholder:"رمز عبور جدید را دوباره وارد کنید"},null,512),[[e.nr,p.password2]]),u],32)])])}var l=t(2310),w=t.n(l),c=t(6265),h=t.n(c),m={name:"ResetPasswordConfirmation",data(){return{password:"",password2:"",uid:this.$route.params.uid,token:this.$route.params.token,errors:[]}},methods:{async resetPassword(){""===this.password?(this.errors.push("رمزعبور وارد نشده‌است"),w()({text:"رمزعبور وارد نشده‌است",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()):this.password.length<8?(this.errors.push("رمزعبور باید حداقل شامل 8 کاراکتر باشد"),w()({text:"رمزعبور باید حداقل شامل 8 کاراکتر باشد",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()):this.password!==this.password2?(this.errors.push("رمزهای عبور با هم تطابق ندارند"),w()({text:"رمزهای عبور با هم تطابق ندارند",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()):(this.$store.commit("setIsLoading",!0),await h().post("/api/v1/users/reset_password_confirm/",{uid:this.uid,token:this.token,new_password:this.password}).then((o=>{console.log("email successfully changed."),this.$store.commit("setIsLoading",!1),w()({text:"رمز عبور با موفقیت تغییر کرد.",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#5cdb95"}}).showToast(),this.$router.push("/log-in")})).catch((o=>{console.log(o),this.$store.commit("setIsLoading",!1),w()({text:"متاسفانه گذرواژه تغییر پیدا نکرد. لطفا دوباره امتحان کنید.",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast(),this.$router.push("/log-in")})))}}},f=t(89);const g=(0,f.Z)(m,[["render",p],["__scopeId","data-v-063fdc41"]]);var b=g}}]);
//# sourceMappingURL=237.e2dafe68.js.map