"use strict";(self["webpackChunkbookroom_vue"]=self["webpackChunkbookroom_vue"]||[]).push([[629],{2629:function(o,s,t){t.r(s),t.d(s,{default:function(){return k}});var r=t(3396),e=t(9242);const n=o=>((0,r.dD)("data-v-d2e15f94"),o=o(),(0,r.Cn)(),o),a={class:"login-form-container"},i=n((()=>(0,r._)("h3",null,"ثبت نام",-1))),u=n((()=>(0,r._)("span",null,"نام کاربری",-1))),d=n((()=>(0,r._)("span",null,"رمز عبور",-1))),p=n((()=>(0,r._)("input",{type:"submit",value:"ساخت حساب",class:"btn"},null,-1))),l=(0,r.Uk)("حساب دارید؟ "),h=(0,r.Uk)("ورود به حساب");function w(o,s,t,n,w,c){const m=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",a,[(0,r._)("form",{action:"",onSubmit:s[3]||(s[3]=(0,e.iM)(((...o)=>c.submitForm&&c.submitForm(...o)),["prevent"]))},[i,u,(0,r.wy)((0,r._)("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>w.username=o),class:"form-control box",placeholder:"نام کاربری خود را وارد کنید"},null,512),[[e.nr,w.username]]),d,(0,r.wy)((0,r._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>w.password=o),class:"form-control box",placeholder:"رمز عبور خود را وارد کنید"},null,512),[[e.nr,w.password]]),(0,r.wy)((0,r._)("input",{type:"password",name:"password2",id:"password","onUpdate:modelValue":s[2]||(s[2]=o=>w.password2=o),class:"form-control box",placeholder:"رمز عبور خود را مجدداً وارد کنید"},null,512),[[e.nr,w.password2]]),p,(0,r._)("p",null,[l,(0,r.Wm)(m,{to:"/log-in"},{default:(0,r.w5)((()=>[h])),_:1})])],32)])])}var c=t(2310),m=t.n(c),f=t(6265),g=t.n(f),b={name:"SignUp",data(){return{username:"",password:"",password2:"",errors:[]}},methods:{submitForm(){if(this.errors=[],""===this.username&&(this.errors.push("نام کاربری وارد نشده است"),m()({text:"نام کاربری وارد نشده است",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()),""===this.password&&(this.errors.push("رمزعبور وارد نشده‌است"),m()({text:"رمزعبور وارد نشده‌است",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()),this.password.length<8&&(this.errors.push("رمزعبور باید حداقل شامل 8 کاراکتر باشد"),m()({text:"رمزعبور باید حداقل شامل 8 کاراکتر باشد",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()),this.password!==this.password2&&(this.errors.push("رمزهای عبور با هم تطابق ندارند"),m()({text:"رمزهای عبور با هم تطابق ندارند",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast()),!this.errors.length){const o={username:this.username,password:this.password};g().post("api/v1/users/",o).then((o=>{console.log(o),m()({text:"ثبت نام با موفقیت انجام شد. لطفا وارد شوید.",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#5cdb95"}}).showToast(),this.$router.push("/log-in")})).catch((o=>{if(o.response){for(const s in o.response.data)this.errors.push(`${s}:${o.response.data[s]}`),m()({text:`${s}:${o.response.data[s]}`,duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast();console.log(JSON.stringify(error.response.data))}else o.message&&(this.errors.push("مشکلی رخ داده‌است. لطفا دوباره امتحان کنید."),m()({text:"مشکلی رخ داده‌است. لطفا دوباره امتحان کنید.",duration:3e3,newWindow:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"#ff652f"}}).showToast(),console.log(JSON.stringify(o)))}))}}}},y=t(89);const v=(0,y.Z)(b,[["render",w],["__scopeId","data-v-d2e15f94"]]);var k=v}}]);
//# sourceMappingURL=629.5ee22fa5.js.map